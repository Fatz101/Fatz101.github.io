<form id="wedding-form">
    <div class="row">
        <div class="col md-6 pb-3">
            <div class="form-group">
                <label for="name-input">Your Name(s)*</label>
                <input class="form-control" id="name-input" type="text" name="name"
                        required="required"/>
            </div>
        </div>
        <div class="col-md-6 pb-3">
            <div class="form-group">
                <label for="email-input">Your Email(s)*</label>
                <input class="form-control" id="email-input" type="email"
                        name="email" required="required"/>
            </div>
        </div>
    </div>
    <!-- <div class="row">
        <div class="col-md-6 pb-3">
            <div class="form-group">
                <label for="code-input">Invite Code*</label>
                <input class="form-control" id="code-input" type="text" name="code"
                        required="required"/>
            </div>
        </div>
    </div> -->
    <div class="row">
        <div class="col-md-6 pb-3">
            <div class="form-group">
                <label for="song-input">Song Request (optional)</label>
                <input class="form-control" id="song-input" type="text" name="song">
            </div>
        </div>
    </div>
    <div class="row">
    <div class="col text-center">
            <button class="btn btn-primary btn-submit" type="submit">Send</button>
        </div>
    </div>
</form>
<script>
    $('#wedding-form').on('submit', function (e) {
        //optional validation code here

        e.preventDefault();

        $.ajax({
            url: "https://script.google.com/home/projects/1n93cUnmJqYw4l7DFAoK7pBPJEWfNh3bPaVOQCk5KZJvvGoQ9AojcZsGf",
            method: "POST",
            dataType: "json",
            data: $("#wedding-form").serialize(),
            success: function (response) {
                console.log("response!");
                console.log($("#wedding-form").serialize());

                if (response.result == "success") {
                    $('#wedding-form')[0].reset();
                    alert('Thank you for contacting us.');
                    return true;
                } else {
                    alert("The form was not submitted successfully. Please let Grehg know and try again later.")
                }
            },
            error: function () {
                alert("The form failed. Please let Grehg know and try again later.")
            }
        })
    });
</script>